<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>HalfTime</title>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="src/init_map.js"></script>
    <script src="src/index.js"></script>
    <script src="src/api_key.js" ></script>
    <!-- <script src="src/init_map.js"></script> -->
    <script src="src/geocode_address.js"></script>
    <script src="src/markers.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">
  </head>
  <body>
    <script>
    $(function() {
      $(".login_trigger").click(function() {
        $(".modal").addClass("is-active");
        $(".user_login").show();
        $(".user_register").hide();
        $(".modal-card-title").text('Login');
        $(".login-button").text('Login');
        $("#register-form")[0].reset()
      });

      $(".register_trigger").click(function() {
        $(".modal").addClass("is-active");
        $(".user_login").hide();
        $(".user_register").show();
        $(".modal-card-title").text('Register');
        $(".login-button").text('Register');
        $("#login-form")[0].reset()
      });

      $("#login-close").click(function() {
         $(".modal").removeClass("is-active");
      });

      $(".modal-background").click(function() {
         $(".modal").removeClass("is-active");
      });

      // Logging in!
      $(".login-button").click(function(e) {
        if (this.innerText === "Login"){
          console.log(this.parentNode.parentNode.querySelector('#login-username').value)
          //grab data and pass it
        } else if (this.innerText === "Register"){
          console.log(this.parentNode.parentNode.querySelector('#register-fullname').value)
          console.log(this.parentNode.parentNode.querySelector('#register-username').value)
          //grab data and pass it
        }
        $("#login-form")[0].reset()
        $("#register-form")[0].reset()
        $(".modal").removeClass("is-active");
      });
    });
    </script>


    		<a class="login_trigger" href="#modal">Click here to Login</a>
    		<a class="register_trigger" href="#modal">or register</a>
    		<div class="modal">
          <div class="modal-background"></div>
          <div class="modal-card">
    				<header class="modal-card-head">
              <p class="modal-card-title">Login</p>
              <button class="delete" id="login-close" aria-label="close"></button>
    				</header>
            <section class="modal-card-body">
              <div class="user_login">
                  <form id="login-form">
                      <label>Username</label>
                      <input id="login-username" type="text"/> <br/><br/>
                  </form>
                  <button class="login-button button is-success">Login</button> <br/>
                  <a href="#" class="register_trigger">Don't have an account? Sign up!</a>
              </div>
              <div class="user_register">
                  <form id="register-form">
                      <label>Full Name</label>
                      <input id="register-fullname"type="text"/> <br/>
                      <label>Username</label>
                      <input id="register-username"type="text"/> <br/><br/>
                  </form>
                  <button class="login-button button is-success">Register</button> <br/>
                  <a href="#" class="login_trigger">Already have an account? Log in.</a>
              </div>
            </section>
          </div>
    		</div>

  </body>
</html>
